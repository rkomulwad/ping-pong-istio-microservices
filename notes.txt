
cd C:\istio\istio-1.4.2

kubectl apply -f install/kubernetes/helm/helm-service-account.yaml

helm init --service-account tiller

helm install install/kubernetes/helm/istio-init --name istio-init --namespace istio-system

helm install install/kubernetes/helm/istio --name istio --namespace istio-system --values install/kubernetes/helm/istio/values-istio-demo.yaml

kubectl label namespace default istio-injection=enabled


helm delete --purge demo-ping-service

./mvnw clean package

docker build -t demo-ping-service:v1 .

helm install --name demo-ping-service .\charts\demo-ping-service\

kubectl create ns ping
kubectl label namespace ping istio-injection=enabled


docker build -t demo-pong-service:v1 .

kubectl create ns pong
kubectl label namespace pong istio-injection=enabled

helm install --name demo-pong-service .\charts\demo-pong-service\

helm delete --purge demo-pong-service


kubectl -n istio-system port-forward istio-ingressgateway-d454989ff-nnt4p 8080:80


kubectl apply -f c:\istio\istio-authorization-policy-deny-all.yaml

kubectl apply -f c:\istio\enableaccessto-ping-ns.yaml



kubectl apply -f c:\istio\enableaccessfrom-ping-ns-to-demo-ping-svc.yaml


kubectl -n istio-system port-forward istio-ingressgateway-d454989ff-7rxc7 8080:80

